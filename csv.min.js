class csvJS{constructor(e=",",t="\n"){this.COMMA=",",this.SEMI_COMMA=";",this.COLON=":",this.BAR="|",this.TAB="\t",this.NL="\n",this.setSplice=void 0!==e?e:this.COMMA,this.setEOF=void 0!==t?t:this.NL}fromFile(e,t=0){const s=this.setSplice,r=this.setEOF,n=[],i=[],l=new XMLHttpRequest;if(!e.match(/\.csv$/))throw new TypeError("Your file must be a CSV file");return l.onreadystatechange=function(){if(4===this.readyState&&200==this.status){let e=this.responseText;e=e.replaceAll("\r","");const l=e.split(r);for(let e=0;e<l.length;e++)if(0==e)l[e].split(s).forEach((e=>{i.push(e.trim())}));else if(!Array.isArray(t)&&e!=t||Array.isArray(t)&&!t.includes(e)){const t=new Object;for(let r=0;r<i.length;r++){const n=l[e].split(s);t[i[r]]=n[r].trim()}n.push(t)}}},l.open("GET",e,!1),l.send(),n}fromString(e,t=0){let s=e;const r=this.setSplice,n=this.setEOF,i=[],l=[];s=s.replaceAll("\r","");const c=s.split(n);for(let e=0;e<c.length;e++)if(0==e)c[e].split(r).forEach((e=>{l.push(e.trim())}));else if(!Array.isArray(t)&&e!=t||Array.isArray(t)&&!t.includes(e)){const t=new Object;for(let s=0;s<l.length;s++){const n=c[e].split(r);t[l[s]]=n[s].trim()}i.push(t)}return i}toTable(e,t){const s=document.createElement("table"),r=document.createElement("thead"),n=document.createElement("tbody"),i=document.createElement("tr"),l=Object.keys(e[0]);if("object"!=typeof e)throw new TypeError("Argument must be an object");l.forEach((e=>{const t=document.createElement("th");t.innerText=e,i.appendChild(t)})),r.appendChild(i),s.appendChild(r);for(let t=0;t<e.length;t++){const s=Object.values(e[t]),r=document.createElement("tr");for(let e=0;e<s.length;e++){const t=document.createElement("td");t.innerText=s[e],r.appendChild(t)}n.appendChild(r)}s.appendChild(n),document.querySelector(t).appendChild(s)}toCSV(e){let t="",s=Object.keys(e[0]);return t+=s.join(this.setSplice)+this.setEOF,e.forEach((e=>{const s=Object.values(e);t+=s.join(this.setSplice).trim()+this.setEOF})),t=t.replace(new RegExp(this.setEOF+"$"),""),t}}
